# QZMaintenance

## 简介
QzMaintenanceMode 是一款为 Typecho 博客系统设计的网站维护功能插件，由狐亦酱开发，版本为 1.0.0。该插件提供了网站维护模式开关、自定义维护页面、访问白名单等功能，帮助用户在网站维护期间更好地管理访客访问。

## 功能特性
1. **维护模式开关**：可以灵活启用或禁用网站维护模式。
2. **访问白名单**：支持 IP 地址和 URL 路径的白名单设置，白名单内的 IP 或 URL 可以在维护期间正常访问。
3. **维护时间设置**：可以设置维护的开始时间和结束时间，系统会根据时间自动切换维护状态。
4. **自定义内容**：可以自定义维护前、维护中、维护后的标题和内容，以及网站名称和 ICP 备案号。

## 安装与使用

### 安装步骤
1. 将插件文件 `Plugin.php` 放置在 Typecho 博客系统的 `usr/plugins/QzMaintenanceMode` 目录下。
2. 登录 Typecho 后台，在“控制台” -> “插件”中找到“网站维护功能插件”，点击“启用”。

### 配置插件
启用插件后，点击“设置”进入插件配置页面，可进行以下设置：
1. **基本设置**：选择是否启用维护模式。
2. **白名单设置**：
    - 选择是否启用白名单功能。
    - 输入 IP 白名单列表，每行一个 IP 地址，支持 CIDR 格式（如 `192.168.1.0/24`）。
    - 输入 URL 白名单列表，每行一个 URL 路径（如 `/about` 或 `/contact`）。
3. **维护时间设置**：设置维护的开始时间和结束时间，格式为 `YYYY-MM-DDTHH:MM`（如 `2025-04-25T22:52:00`）。
4. **内容设置**：分别设置维护前、维护中、维护后的标题和内容。
5. **其他设置**：设置网站名称和 ICP 备案号。

### 注意事项
- 请确保服务器的时区设置正确，插件默认使用 `Asia/Shanghai` 时区。
- 维护时间设置 白名单中的 IP 地址和 URL 路径需按要求格式输入，否则可能无法正常生效。

## 联系方式
如有任何问题或建议，可访问开发者的网站 [https://hueoo.com](https://hueoo.com) 进行反馈。

## 版本信息
- 版本号：1.0.0
- 发布日期：2025-04-29
- 更新日期：2025-04-29
